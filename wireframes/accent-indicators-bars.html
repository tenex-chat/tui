<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Border/Accent Indicators - Daily Runtime</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #1a1a2e;
            color: #ffffff;
            font-family: 'Courier New', Courier, monospace;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            font-size: 24px;
            margin-bottom: 8px;
            color: #ffffff;
            border-bottom: 2px solid #ffffff;
            padding-bottom: 12px;
        }

        .subtitle {
            color: #888888;
            margin-bottom: 20px;
            font-size: 14px;
        }

        .legend {
            display: flex;
            gap: 24px;
            margin-bottom: 20px;
            padding: 12px;
            background: #252540;
            border: 2px solid #444444;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        .legend-item .marker {
            font-size: 18px;
        }

        .chart {
            border: 2px solid #444444;
            padding: 16px;
            background: #252540;
        }

        .bar-row {
            display: flex;
            align-items: center;
            padding: 6px 0;
            border-bottom: 1px solid #333333;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .bar-row:hover {
            background-color: #333355;
        }

        .bar-row:last-child {
            border-bottom: none;
        }

        .date-col {
            width: 140px;
            flex-shrink: 0;
            font-size: 13px;
            color: #cccccc;
        }

        .bar-col {
            flex-grow: 1;
            margin: 0 16px;
            height: 24px;
            background: #1a1a2e;
            position: relative;
            display: flex;
            align-items: center;
            min-width: 200px;
        }

        .bar-fill {
            height: 100%;
            background-color: #3b82f6;
            min-width: 4px;
        }

        .info-col {
            width: 280px;
            flex-shrink: 0;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .duration {
            color: #cccccc;
        }

        .markers {
            display: flex;
            gap: 6px;
        }

        .marker {
            font-size: 16px;
        }

        .tooltip {
            display: none;
            position: fixed;
            background: #1a1a2e;
            border: 2px solid #3b82f6;
            padding: 16px;
            z-index: 1000;
            min-width: 300px;
            font-size: 13px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
        }

        .tooltip.visible {
            display: block;
        }

        .tooltip-title {
            font-size: 16px;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid #444444;
            color: #3b82f6;
        }

        .tooltip-row {
            display: flex;
            justify-content: space-between;
            padding: 4px 0;
        }

        .tooltip-label {
            color: #888888;
        }

        .tooltip-value {
            color: #ffffff;
            font-weight: bold;
        }

        .tooltip-section {
            margin-top: 12px;
            padding-top: 8px;
            border-top: 1px solid #444444;
        }

        .tooltip-section-title {
            color: #3b82f6;
            margin-bottom: 6px;
        }

        .condition-tag {
            display: inline-block;
            padding: 2px 8px;
            margin: 2px;
            background: #252540;
            border: 1px solid #444444;
            font-size: 11px;
        }

        .no-data {
            text-align: center;
            padding: 40px;
            color: #666666;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>BORDER/ACCENT INDICATORS</h1>
        <div class="subtitle">Daily Runtime (14 Days) ‚Ä¢ Today through Jan 16</div>

        <div class="legend">
            <div class="legend-item">
                <span class="marker">‚ö†Ô∏è</span>
                <span>High Cost (‚â•$30)</span>
            </div>
            <div class="legend-item">
                <span class="marker">üß†</span>
                <span>Thinking Model (o1)</span>
            </div>
            <div class="legend-item">
                <span class="marker">‚ö°</span>
                <span>Efficiency Win (&lt;$5 &lt;8h)</span>
            </div>
        </div>

        <div class="chart" id="chart"></div>
    </div>

    <div class="tooltip" id="tooltip"></div>

    <script>
        // Mock data for 14 days (Jan 16 - Jan 29)
        const mockData = [
            {
                date: 'Jan 16',
                runtime_ms: 21600000,  // 6h
                cost: 12.50,
                tokens: 1500000,
                messages: 234,
                dominant_model: 'gpt-4'
            },
            {
                date: 'Jan 17',
                runtime_ms: 32400000,  // 9h
                cost: 28.75,
                tokens: 2800000,
                messages: 312,
                dominant_model: 'gpt-4'
            },
            {
                date: 'Jan 18',
                runtime_ms: 43200000,  // 12h
                cost: 45.00,
                tokens: 4200000,
                messages: 456,
                dominant_model: 'o1-preview'
            },
            {
                date: 'Jan 19',
                runtime_ms: 18000000,  // 5h
                cost: 4.25,
                tokens: 890000,
                messages: 189,
                dominant_model: 'gpt-4'
            },
            {
                date: 'Jan 20',
                runtime_ms: 28800000,  // 8h
                cost: 32.50,
                tokens: 3100000,
                messages: 389,
                dominant_model: 'o1-preview'
            },
            {
                date: 'Jan 21',
                runtime_ms: 25200000,  // 7h
                cost: 18.75,
                tokens: 1950000,
                messages: 267,
                dominant_model: 'gpt-4'
            },
            {
                date: 'Jan 22',
                runtime_ms: 14400000,  // 4h
                cost: 3.50,
                tokens: 720000,
                messages: 145,
                dominant_model: 'gpt-3.5-turbo'
            },
            {
                date: 'Jan 23',
                runtime_ms: 36000000,  // 10h
                cost: 38.25,
                tokens: 3600000,
                messages: 423,
                dominant_model: 'o1'
            },
            {
                date: 'Jan 24',
                runtime_ms: 19800000,  // 5.5h
                cost: 9.80,
                tokens: 1100000,
                messages: 198,
                dominant_model: 'gpt-4'
            },
            {
                date: 'Jan 25',
                runtime_ms: 41400000,  // 11.5h
                cost: 52.50,
                tokens: 4800000,
                messages: 521,
                dominant_model: 'o1-preview'
            },
            {
                date: 'Jan 26',
                runtime_ms: 16200000,  // 4.5h
                cost: 6.20,
                tokens: 820000,
                messages: 167,
                dominant_model: 'gpt-3.5-turbo'
            },
            {
                date: 'Jan 27',
                runtime_ms: 30600000,  // 8.5h
                cost: 29.75,
                tokens: 2950000,
                messages: 345,
                dominant_model: 'gpt-4'
            },
            {
                date: 'Jan 28',
                runtime_ms: 23400000,  // 6.5h
                cost: 14.30,
                tokens: 1420000,
                messages: 256,
                dominant_model: 'gpt-4'
            },
            {
                date: 'Today',
                runtime_ms: 27000000,  // 7.5h
                cost: 22.50,
                tokens: 2100000,
                messages: 298,
                dominant_model: 'o1-preview'
            }
        ];

        // Find max runtime for scaling
        const maxRuntime = Math.max(...mockData.map(d => d.runtime_ms));

        // Helper function to format duration
        function formatDuration(ms) {
            const hours = Math.floor(ms / 3600000);
            const minutes = Math.floor((ms % 3600000) / 60000);
            return `${hours}h ${minutes}m`;
        }

        // Helper function to get markers for a day
        function getMarkers(day) {
            const markers = [];
            
            if (day.cost >= 30) {
                markers.push({ icon: '‚ö†Ô∏è', text: `$${day.cost.toFixed(0)}`, condition: 'High Cost' });
            }
            
            if (day.dominant_model.includes('o1')) {
                markers.push({ icon: 'üß†', text: '', condition: 'Thinking Model' });
            }
            
            if (day.cost < 5 && day.runtime_ms < 28800000) {
                markers.push({ icon: '‚ö°', text: '', condition: 'Efficiency Win' });
            }
            
            return markers;
        }

        // Generate chart
        function renderChart() {
            const chart = document.getElementById('chart');
            chart.innerHTML = '';

            mockData.forEach((day, index) => {
                const barWidth = (day.runtime_ms / maxRuntime) * 100;
                const markers = getMarkers(day);
                const markerHTML = markers.map(m => `<span class="marker" title="${m.condition}">${m.icon}${m.text}</span>`).join('');

                const row = document.createElement('div');
                row.className = 'bar-row';
                row.dataset.index = index;
                
                row.innerHTML = `
                    <div class="date-col">${day.date}</div>
                    <div class="bar-col">
                        <div class="bar-fill" style="width: ${barWidth}%"></div>
                    </div>
                    <div class="info-col">
                        <span class="duration">${formatDuration(day.runtime_ms)}</span>
                        <div class="markers">${markerHTML}</div>
                    </div>
                `;

                row.addEventListener('mouseenter', (e) => showTooltip(e, day));
                row.addEventListener('mousemove', (e) => moveTooltip(e));
                row.addEventListener('mouseleave', hideTooltip);

                chart.appendChild(row);
            });
        }

        // Tooltip functions
        function showTooltip(e, day) {
            const tooltip = document.getElementById('tooltip');
            const markers = getMarkers(day);
            
            const conditionsHTML = markers.length > 0 
                ? markers.map(m => `<span class="condition-tag">${m.icon} ${m.condition}</span>`).join('') 
                : '<span style="color: #666666;">Normal day</span>';

            tooltip.innerHTML = `
                <div class="tooltip-title">${day.date}</div>
                <div class="tooltip-row">
                    <span class="tooltip-label">Runtime:</span>
                    <span class="tooltip-value">${formatDuration(day.runtime_ms)}</span>
                </div>
                <div class="tooltip-row">
                    <span class="tooltip-label">Cost:</span>
                    <span class="tooltip-value">$${day.cost.toFixed(2)}</span>
                </div>
                <div class="tooltip-row">
                    <span class="tooltip-label">Tokens:</span>
                    <span class="tooltip-value">${day.tokens.toLocaleString()}</span>
                </div>
                <div class="tooltip-row">
                    <span class="tooltip-label">Messages:</span>
                    <span class="tooltip-value">${day.messages}</span>
                </div>
                <div class="tooltip-row">
                    <span class="tooltip-label">Model:</span>
                    <span class="tooltip-value">${day.dominant_model}</span>
                </div>
                <div class="tooltip-section">
                    <div class="tooltip-section-title">Conditions:</div>
                    ${conditionsHTML}
                </div>
            `;
            
            tooltip.classList.add('visible');
            moveTooltip(e);
        }

        function moveTooltip(e) {
            const tooltip = document.getElementById('tooltip');
            const x = e.clientX + 16;
            const y = e.clientY + 16;
            
            // Prevent tooltip from going off screen
            const rect = tooltip.getBoundingClientRect();
            const maxX = window.innerWidth - rect.width - 16;
            const maxY = window.innerHeight - rect.height - 16;
            
            tooltip.style.left = Math.min(x, maxX) + 'px';
            tooltip.style.top = Math.min(y, maxY) + 'px';
        }

        function hideTooltip() {
            const tooltip = document.getElementById('tooltip');
            tooltip.classList.remove('visible');
        }

        // Initialize
        renderChart();
    </script>
</body>
</html>